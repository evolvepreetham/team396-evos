<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Charging Power Management & Analytics</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="main-header">
            <div class="header-content">
                <h1>EV Charging Power Management System</h1>
                <p class="header-subtitle">Dynamic Power Allocation & Comprehensive Analytics</p>
                <div class="header-status">
                    <div class="status-item">
                        <span class="status-label">System Status:</span>
                        <span class="status-value online">Online</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Last Update:</span>
                        <span class="status-value" id="last-update">--:--:--</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="dashboard">
                <span class="tab-icon">‚ö°</span>
                <span class="tab-text">Dashboard</span>
            </button>
            <button class="tab-btn" data-tab="analytics">
                <span class="tab-icon">üìä</span>
                <span class="tab-text">Analytics</span>
            </button>
        </nav>

        <!-- Dashboard Section -->
        <section id="dashboard" class="tab-content active">
            <!-- Grid Status Panel -->
            <div class="grid-status-panel">
                <h2>Grid Power Status</h2>
                <div class="grid-metrics">
                    <div class="metric-card">
                        <div class="metric-label">Base Grid Power</div>
                        <div class="metric-value">20 kW</div>
                        <div class="metric-status available">Always Available</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Additional Power</div>
                        <div class="metric-value" id="additional-power">0 kW</div>
                        <div class="metric-status" id="additional-status">On Demand</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Total Available</div>
                        <div class="metric-value" id="total-power">20 kW</div>
                        <div class="metric-status" id="total-status">Optimal</div>
                    </div>
                </div>
            </div>

            <!-- Charging Slots -->
            <div class="charging-slots-panel">
                <h2>Charging Slots Management</h2>
                <div class="slots-grid">
                    <div class="charging-slot" data-slot="1">
                        <div class="slot-header">
                            <span class="slot-title">Slot 1</span>
                            <span class="slot-status">Available</span>
                        </div>
                        <div class="slot-power">
                            <div class="power-display">
                                <span class="power-value">0 kW</span>
                                <span class="power-max">/ 10 kW max</span>
                            </div>
                            <div class="power-bar">
                                <div class="power-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <button class="slot-toggle">Click to Occupy</button>
                    </div>

                    <div class="charging-slot" data-slot="2">
                        <div class="slot-header">
                            <span class="slot-title">Slot 2</span>
                            <span class="slot-status">Available</span>
                        </div>
                        <div class="slot-power">
                            <div class="power-display">
                                <span class="power-value">0 kW</span>
                                <span class="power-max">/ 10 kW max</span>
                            </div>
                            <div class="power-bar">
                                <div class="power-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <button class="slot-toggle">Click to Occupy</button>
                    </div>

                    <div class="charging-slot" data-slot="3">
                        <div class="slot-header">
                            <span class="slot-title">Slot 3</span>
                            <span class="slot-status">Available</span>
                        </div>
                        <div class="slot-power">
                            <div class="power-display">
                                <span class="power-value">0 kW</span>
                                <span class="power-max">/ 10 kW max</span>
                            </div>
                            <div class="power-bar">
                                <div class="power-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <button class="slot-toggle">Click to Occupy</button>
                    </div>

                    <div class="charging-slot" data-slot="4">
                        <div class="slot-header">
                            <span class="slot-title">Slot 4</span>
                            <span class="slot-status">Available</span>
                        </div>
                        <div class="slot-power">
                            <div class="power-display">
                                <span class="power-value">0 kW</span>
                                <span class="power-max">/ 10 kW max</span>
                            </div>
                            <div class="power-bar">
                                <div class="power-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <button class="slot-toggle">Click to Occupy</button>
                    </div>
                </div>
            </div>

            <!-- Real-time Power Allocation Chart -->
            <div class="power-allocation-panel">
                <h2>Real-time Power Allocation</h2>
                <div class="chart-wrapper" style="position: relative; height: 300px;">
                    <canvas id="powerAllocationChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="tab-content">
            <!-- Analytics Navigation -->
            <div class="analytics-nav">
                <button class="analytics-tab-btn active" data-analytics="overview">Overview</button>
                <button class="analytics-tab-btn" data-analytics="cost">Cost Analysis</button>
                <button class="analytics-tab-btn" data-analytics="efficiency">Power Efficiency</button>
                <button class="analytics-tab-btn" data-analytics="historical">Historical</button>
                <button class="analytics-tab-btn" data-analytics="predictive">Predictive</button>
            </div>

            <!-- Overview Analytics -->
            <div id="overview" class="analytics-content active">
                <div class="kpi-section">
                    <div class="kpi-grid">
                        <div class="kpi-card savings">
                            <div class="kpi-icon">üí∞</div>
                            <div class="kpi-content">
                                <h3>Total Cost Savings</h3>
                                <div class="kpi-value">$1,426</div>
                                <div class="kpi-change positive">‚Üì 45.0% reduction</div>
                            </div>
                        </div>
                        <div class="kpi-card efficiency">
                            <div class="kpi-icon">‚ö°</div>
                            <div class="kpi-content">
                                <h3>Power Reduction</h3>
                                <div class="kpi-value">10,380 kWh</div>
                                <div class="kpi-change positive">‚Üì 36.0% reduction</div>
                            </div>
                        </div>
                        <div class="kpi-card dynamic">
                            <div class="kpi-icon">üîã</div>
                            <div class="kpi-content">
                                <h3>Dynamic Efficiency</h3>
                                <div class="kpi-value">83.8%</div>
                                <div class="kpi-trend">Optimized performance</div>
                            </div>
                        </div>
                        <div class="kpi-card static">
                            <div class="kpi-icon">üè≠</div>
                            <div class="kpi-content">
                                <h3>System Utilization</h3>
                                <div class="kpi-value">67.3%</div>
                                <div class="kpi-trend">Average daily usage</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Daily Usage Pattern</h3>
                            <p class="chart-description">24-hour occupancy and power trends</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="dailyPatternChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Efficiency Comparison</h3>
                            <p class="chart-description">Dynamic vs Static performance</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="efficiencyComparisonChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cost Analysis -->
            <div id="cost" class="analytics-content">
                <div class="cost-summary">
                    <div class="summary-metrics">
                        <div class="metric-row">
                            <span class="metric-label">Total Dynamic Cost</span>
                            <span class="metric-value dynamic-color">$1,742</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Total Static Cost</span>
                            <span class="metric-value static-color">$3,168</span>
                        </div>
                        <div class="metric-row highlight">
                            <span class="metric-label">Monthly Savings</span>
                            <span class="metric-value savings-color">$1,426</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Annual Projection</span>
                            <span class="metric-value savings-color">$17,112</span>
                        </div>
                    </div>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Daily Cost Comparison</h3>
                            <p class="chart-description">Cost trends over 30-day period</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="costChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Cost Savings Breakdown</h3>
                            <p class="chart-description">Sources of savings</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="savingsBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Power Efficiency -->
            <div id="efficiency" class="analytics-content">
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Power Consumption Trends</h3>
                            <p class="chart-description">Energy usage comparison (kWh)</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="powerChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Efficiency Trends</h3>
                            <p class="chart-description">System efficiency over time (%)</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="efficiencyChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Historical Performance -->
            <div id="historical" class="analytics-content">
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Monthly Performance Summary</h3>
                            <p class="chart-description">Key metrics over time</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="monthlyPerformanceChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Revenue Analysis</h3>
                            <p class="chart-description">Revenue per charging session</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Predictive Analytics -->
            <div id="predictive" class="analytics-content">
                <div class="prediction-summary">
                    <h3>6-Month Projections</h3>
                    <div class="projection-metrics">
                        <div class="projection-item">
                            <span class="projection-label">Projected Savings</span>
                            <span class="projection-value">$10,267</span>
                        </div>
                        <div class="projection-item">
                            <span class="projection-label">ROI</span>
                            <span class="projection-value">540%</span>
                        </div>
                        <div class="projection-item">
                            <span class="projection-label">Payback Period</span>
                            <span class="projection-value">2.2 months</span>
                        </div>
                    </div>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Forecast Analysis</h3>
                            <p class="chart-description">Predicted performance trends</p>
                        </div>
                        <div class="chart-wrapper" style="position: relative; height: 300px;">
                            <canvas id="forecastChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Optimization Recommendations</h3>
                            <p class="chart-description">AI-driven suggestions</p>
                        </div>
                        <div class="recommendations-panel">
                            <div class="recommendation-item">
                                <div class="rec-icon">üéØ</div>
                                <div class="rec-content">
                                    <h4>Peak Hour Optimization</h4>
                                    <p>Implement load balancing during 11:00-13:00 for 12% efficiency gain</p>
                                </div>
                            </div>
                            <div class="recommendation-item">
                                <div class="rec-icon">üí°</div>
                                <div class="rec-content">
                                    <h4>Smart Scheduling</h4>
                                    <p>Enable predictive charging to reduce wait times by 23%</p>
                                </div>
                            </div>
                            <div class="recommendation-item">
                                <div class="rec-icon">‚ö°</div>
                                <div class="rec-content">
                                    <h4>Grid Integration</h4>
                                    <p>Connect to renewable sources for 18% cost reduction</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <p>Last updated: <span id="current-date"></span></p>
                <div class="footer-actions">
                    <button class="btn btn--outline btn--sm" onclick="window.evSystem.exportData()">Export Data</button>
                    <button class="btn btn--outline btn--sm" onclick="window.print()">Print Report</button>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>